import numpy as np
from scipy import interpolate


def mag_RJohnson():
    lbda = 6940.
    lmin = 5200.
    lmax = 9600.

#    lbdafilter = np.arange(23)*200. + 5200.
#    filter = np.array([0.,0.06,0.28,0.50,0.69,0.79,0.88,\
#                       0.94,0.98,1.00,0.94,0.85,0.73,\
#                       0.57,0.42,0.31,0.17,0.11,0.06,0.04,0.02,0.01,0.])
#    tck = interpolate.splrep(lbdafilter,filter)

    tck = (np.array([5200., 5200., 5200., 5200.,
                     5600., 5800., 6000., 6200.,
                     6400., 6600., 6800., 7000.,
                     7200., 7400., 7600., 7800.,
                     8000., 8200., 8400., 8600.,
                     8800., 9000., 9200., 9600.,
                     9600., 9600., 9600.]),
           np.array([8.60663864e-19, -5.78293411e-02, 2.15658682e-01,
                     4.99845310e-01, 7.13913421e-01, 7.84501007e-01,
                     8.88082550e-01, 9.43168793e-01, 9.79242280e-01,
                     1.01986209e+00, 9.41309368e-01, 8.54900440e-01,
                     7.39088871e-01, 5.68744075e-01, 4.05934831e-01,
                     3.27516603e-01, 1.43998756e-01, 1.16488372e-01,
                     5.00477576e-02, 4.33205980e-02, 7.78626802e-03,
                     1.11068660e-02, 0.00000000e+00, 0.00000000e+00,
                     0.00000000e+00, 0.00000000e+00, 0.00000000e+00]),
           3)

    return (lbda, lmin, lmax, tck)


def mag_F606W():
    lbda = 6060.
    lmin = 4630.02
    lmax = 7473.17
#    lbdafilter = 10. * np.array([463.002,472.740,482.683,\
#                                 492.836,503.203,513.787,\
#                                 524.594,535.628,546.894,\
#                                 558.398,570.142,582.135,\
#                                 594.379,606.881,619.647,\
#                                 632.680,645.987,659.575,\
#                                 673.448,687.614,702.077,\
#                                 716.844,731.922,747.317])
#    filter = np.array([0.,0.08491,0.41222,0.47381,0.54226,0.64802,0.61459,\
#                          0.73709,0.80079,0.88083,0.85044,0.86536,0.97286,\
#                        0.95384,0.99959,0.93865,0.97476,0.93506,0.90266,\
#                        0.67442,0.47353,0.37916,0.01105,0.])
#    tck = interpolate.splrep(lbdafilter,filter)

    tck = (np.array([4630.02, 4630.02, 4630.02, 4630.02, 4826.83, 4928.36,
                  5032.03, 5137.87, 5245.94, 5356.28, 5468.94, 5583.98,
                  5701.42, 5821.35, 5943.79, 6068.81, 6196.47, 6326.8,
                  6459.87, 6595.75, 6734.48, 6876.14, 7020.77, 7168.44,
                  7473.17, 7473.17, 7473.17, 7473.17]),
           np.array([-1.29035924e-18, -1.77410175e-01, 5.09004115e-01,
                  4.55477447e-01, 5.25807339e-01, 7.02509926e-01,
                  5.53219843e-01, 7.74280131e-01, 7.79317284e-01,
                  9.17635174e-01, 8.36973020e-01, 8.34482266e-01,
                  1.02299100e+00, 9.13253500e-01, 1.04773227e+00,
                  8.92808809e-01, 1.01173936e+00, 9.09378601e-01,
                  9.59431407e-01, 6.61189121e-01, 4.25683387e-01,
                  4.87088936e-01, -3.27742078e-01, 0.00000000e+00,
                  0.00000000e+00, 0.00000000e+00, 0.00000000e+00,
                  0.00000000e+00]),
           3)
    return (lbda, lmin, lmax, tck)


if __name__ == '__main__':
    (lbda, lmin, lmax, tck) = mag_RJohnson()

    lbda = np.arange(20) * 100. + 5200.

    from scipy import interpolate
    f = interpolate.splev(lbda, tck, der=0)

    lbdafilter = np.arange(23) * 200. + 5200.
    filter = np.array([0., 0.06, 0.28, 0.50, 0.69, 0.79, 0.88,
                       0.94, 0.98, 1.00, 0.94, 0.85, 0.73,
                       0.57, 0.42, 0.31, 0.17, 0.11, 0.06,
                       0.04, 0.02, 0.01, 0.])

    import matplotlib.pyplot as plt
    plt.figure()
    plt.plot(lbdafilter, filter, 'x', lbda, f)
    plt.show()
